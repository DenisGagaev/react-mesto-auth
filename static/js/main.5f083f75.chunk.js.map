{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/auth.js","components/ConfirmDeletePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","email","onSignOut","useState","isClicked","setIsClicked","className","src","logo","alt","path","exact","onClick","CurrentUserContext","React","createContext","Card","card","likeCounter","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","type","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","style","backgroundImage","map","length","Footer","ImagePopup","isOpen","element","onClose","PopupWithForm","id","children","title","saveName","onSubmit","autoComplete","EditProfilePopup","onUpdateUser","isDataLoad","profileName","setProfileName","profileDescription","setDescription","useEffect","idForm","e","preventDefault","value","onChange","target","required","minLength","maxLength","placeholder","api","data","this","_baseUrl","serverUrl","_token","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_requestResult","method","body","JSON","stringify","trim","cardId","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","placeName","setPlaceName","placeLink","setPlaceLink","Login","onLogin","password","profileData","setProfileData","handleChange","Register","onRegister","InfoTooltip","successful","baseUrl","ConfirmDeletePopup","onDeleteCard","App","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setCards","isCardDelete","setIsCardDelete","setLoggedIn","isInfoTooltipShow","setInfoTooltipShow","profileEmail","setProfileEmail","setCurrentUser","setIsDataLoad","selectedCard","setSelectedCard","selectedCardDelete","setSelectedCardDelete","handleInfoTooltip","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","initialCards","jwt","localStorage","getItem","push","Provider","removeItem","changeLike","newCard","newCards","c","auth","setItem","newUserData","editProfile","finally","newAvatar","editAvatar","sendCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5f083f75.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute ({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React, { useState } from \"react\";\nimport logo from '../images/logo.svg';\nimport { Link, Route } from 'react-router-dom';\n\nfunction Header({ email, onSignOut }) {\n  const [isClicked, setIsClicked] = useState(false);\n\n  function handleClickMenu() {\n    setIsClicked(!isClicked)\n  }\n\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Logo\" className=\"header__logo\" />\n      <Route path=\"/sign-in\">\n        <Link to='sign-up' className='header__link'>Регистрация</Link>\n      </Route>\n      <Route path=\"/sign-up\">\n        <Link to='sign-in' className='header__link'>Войти</Link>\n      </Route>\n      <Route exact path=\"/\">\n        <div className=\"header__user-menu\">\n          <p className='header__email'>{email}</p>\n          <button\n            onClick={() => {\n              onSignOut();\n              handleClickMenu();\n            }}\n            className='header__link header__link_button'>Выйти</button>\n        </div>\n      </Route>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React, { useContext } from \"react\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card({ card, likeCounter, onCardClick, onCardDelete, onCardLike }) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `elements__delete ${isOwn ? 'elements__delete_visible' : 'elements__delete_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `element__like ${isLiked ? 'element__like_active' : ''}`\n  );;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  return (\n\n    <article className=\"element\">\n      <img className=\"element__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__info\">\n        <h2 className=\"element__text\">{card.name}</h2>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLikeClick}>\n          </button>\n          <span className=\"element__like-counter\">{likeCounter}</span>\n        </div>\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          onClick={handleDeleteClick}>\n        </button>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardDelete, onCardLike, cards }) {\n\n  const { name, about, avatar } = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile content__profile\">\n        <div className=\"profile__data\">\n\n          <div style={{ backgroundImage: `url(${avatar})` }} className=\"profile__avatar\"></div>\n          <button type=\"button\" className=\"profile__avatar-batton\" aria-label=\"Загрузить новый аватар\"\n            onClick={onEditAvatar}>\n          </button>\n\n          <div className=\"profile__info\">\n            <div className=\"profile__block\">\n              <h1 className=\"profile__name\">{name}</h1>\n              <button type=\"button\" className=\"profile__edit\" aria-label=\"редактировать профиль\"\n                onClick={onEditProfile}>\n              </button>\n            </div>\n            <p className=\"profile__text\">{about}</p>\n          </div>\n\n        </div>\n\n        <button type=\"button\" className=\"profile__addfoto-button\" aria-label=\"добавить фото\"\n          onClick={onAddPlace}>\n        </button>\n      </section>\n\n      <section className=\"elements content__elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardDelete={onCardDelete}\n            likeCounter={card.likes.length}\n            onCardLike={onCardLike}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&#169; 2021 Mesto / Gagaev Denis</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup(props) {\n  return (\n    <div className={`popup ${props.card.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__image\">\n        <img className=\"popup__photo\" src={`${props.card.element.link}`} alt={props.card.element.name} />\n        <p className=\"popup__image-subtitle\">{props.card.element.name}</p>\n        <button type=\"button\" aria-label=\"закрыть попап\" className=\"popup__close\" onClick={props.onClose}></button>\n      </div>\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\nconst { id, isOpen, name, children, title, onClose, saveName, onSubmit } = props;\n\n  return (\n    <div className={`popup ${isOpen && 'popup_opened'}`} id={id}>\n      <div className=\"popup__container\">\n        <button aria-label=\"закрыть попап\" className=\"popup__close\" onClick={onClose}></button>\n        <h2 className=\"popup__header\">{title}</h2>\n        <form className=\"popup__form\" name={name} autoComplete=\"off\" onSubmit={onSubmit}>\n          <fieldset className=\"popup__set\">\n            {children}\n            <button type=\"submit\" className=\"popup__button\">{saveName}</button>\n          </fieldset>\n        </form>\n      </div>\n      <div className=\"popup__overlay\" onClick={onClose}></div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React, { useState, useContext, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isDataLoad }) {\n  const [profileName, setProfileName] = useState('');\n  const [profileDescription, setDescription] = useState('');\n\n  // Подписка на контекст\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleChangeName(e) {\n    setProfileName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name: profileName,\n      about: profileDescription,\n    });\n  }\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setProfileName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"popup__form\"\n      idForm=\"popup__form-profile\"\n      id=\"popup__Profile\"\n      title=\"Редактировать профиль\"\n      onSubmit={handleSubmit}\n      saveName={isDataLoad ? \"Сохраняем...\" : \"Сохранить\"}\n    >\n      <label className=\"popup__form-field\">\n        <input\n          value={profileName || ''} onChange={handleChangeName}\n          className=\"popup__input\"\n          type=\"text\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          id=\"popup__name-input\"\n          name=\"name\"\n          placeholder=\"Ваше имя\"\n        />\n        <span id=\"popup__name-input-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__form-field\">\n        <input\n          value={profileDescription || ''} onChange={handleChangeDescription}\n          className=\"popup__input\"\n          type=\"text\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          id=\"popup__text-input\"\n          name=\"about\"\n          placeholder=\"О Вас\"\n        />\n        <span id=\"popup__text-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;","class Api {\n  constructor(data) {\n    this._baseUrl = data.serverUrl;\n    this._token = data.token;\n  }\n  // проверка статуса\n  _requestResult(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(\n        `Хьюстон, у нас проблемы: Ошибка ${res.status} ${res.statusText}`\n      );\n    }\n  }\n  // Запрос данных пользователя\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) =>\n      this._requestResult(res)\n    );\n  }\n  // Отправка данных пользователя\n  editProfile(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name.trim(),\n        about: data.about.trim()\n      }),\n    }).then((res) => this._requestResult(res));\n  }\n  // Запрос карточек\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._requestResult(res));\n  }\n  // отправка данных Аватара\n  editAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: data,\n      }),\n    }).then((res) => this._requestResult(res));\n  }\n  // отправка на сервер новой карточки\n  sendCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => this._requestResult(res));\n  }\n  // Запрос на удаление карточки\n  deleteCard(data) {\n    return fetch(`${this._baseUrl}cards/${data}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._requestResult(res));\n  }\n  //Добавить\\удалить лайк\n  changeLike(cardId, isLiked) {\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n      method: !isLiked ? \"PUT\" : \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._requestResult(res));\n  }\n}\n\nconst api = new Api({\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-27/\",\n  token: \"8747a9a0-014b-48d6-8e47-516b00c90197\"\n});\n\nexport default api;\n","import React, { useRef } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isDataLoad }) {\n\n  const avatarRef = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar(\n      avatarRef.current.value,\n    );\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      name=\"popup__form\"\n      id=\"popap__avatar\"\n      title=\"Обновить аватар\"\n      saveName={isDataLoad ? 'Сохраняем...' : 'Сохранить'}\n    >\n      <label className=\"popup__form-field\">\n        <input\n          ref={avatarRef}\n          name=\"avatar\"\n          className=\"popup__input\"\n          id=\"popup__avatarLink-input\"\n          placeholder=\"Ссылка на изображение\"\n          type=\"url\"\n        />\n        <span id=\"popup__avatarLink-input-error\" className=\"popup__input-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, isDataLoad }) {\n\n    const [placeName, setPlaceName] = useState('');\n    const [placeLink, setPlaceLink] = useState('');\n\n\n    function handleChangePlaceName(e) {\n        setPlaceName(e.target.value);\n    }\n\n    function handleChangePlaceLink(e) {\n        setPlaceLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        //* Передаём значения управляемых компонентов во внешний обработчик\n        onAddCard({\n            name: placeName,\n            link: placeLink,\n        });\n    }\n\n    useEffect(() => {\n        setPlaceName('');\n        setPlaceLink('');\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            name=\"popup__form\"\n            id=\"popup__card\"\n            title=\"Новое место\"\n            saveName={isDataLoad ? 'Сохранение...' : 'Создать'}\n        >\n            <label className=\"popup__form-field\">\n                <input\n                    value={placeName} onChange={handleChangePlaceName}\n                    name=\"photoText\"\n                    className=\"popup__input\"\n                    id=\"popup__photoText-input\"\n                    required\n                    minLength=\"2\"\n                    maxLength=\"30\"\n                    placeholder=\"Название карточки\"\n                    type=\"text\"\n                />\n                <span id=\"popup__photoText-input-error\" className=\"popup__input-error\"></span>\n            </label>\n            <label className=\"popup__form-field\">\n                <input\n                    value={placeLink} onChange={handleChangePlaceLink}\n                    name=\"photoLink\"\n                    className=\"popup__input\"\n                    id=\"popup__photoLink-input\"\n                    required\n                    placeholder=\"Ссылка на картинку\"\n                    type=\"url\"\n                />\n                <span id=\"popup__photoLink-input-error\" className=\"popup__input-error\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React, { useState } from \"react\";\r\n\r\nexport default function Login({ onLogin }) {\r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  const [profileData, setProfileData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setProfileData(profileData => ({\r\n      ...profileData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!profileData.password || !profileData.email) {\r\n      return;\r\n    }\r\n    onLogin(profileData)\r\n  }\r\n\r\n  return (\r\n    <form className=\"login\" onSubmit={handleSubmit}>\r\n      <h1 className=\"login__title\">Вход</h1>\r\n      <input autoComplete=\"on\" className=\"login__email-input\" placeholder=\"Email\" id=\"email\" name=\"email\" type=\"email\" value={profileData.email} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <input autoComplete=\"on\" className=\"login__password-input\" placeholder=\"Пароль\" id=\"password\" name=\"password\" type=\"password\" value={profileData.password} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <button className=\"login__button\" type=\"submit\">Войти</button>\r\n    </form>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register({ onRegister }) {\r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  const [profileData, setProfileData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setProfileData(profileData => ({\r\n      ...profileData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    onRegister(profileData)\r\n  }\r\n\r\n  return (\r\n    <form className=\"register\" onSubmit={handleSubmit}>\r\n      <h1 className=\"register__title\">Регистрация</h1>\r\n      <input autoComplete=\"on\" className=\"register__email-input\" placeholder=\"Email\" id=\"email\" name=\"email\" type=\"email\" value={profileData.email} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <input autoComplete=\"on\" className=\"register__password-input\" placeholder=\"Пароль\" id=\"password\" name=\"password\" type=\"password\" value={profileData.password} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <button type=\"submit\" className=\"register__button\">Зарегистрироваться</button>\r\n      <Link to=\"/sign-in\" className=\"register__link\">Уже зарегистрированы? Войти</Link>\r\n    </form>\r\n  )\r\n}","import React from 'react';\r\n\r\nfunction InfoTooltip({ onClose, status: { isOpen, successful } }) {\r\n\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__info\">\r\n        <button type=\"button\" aria-label=\"закрыть попап\" className=\"popup__close\" onClick={onClose}></button>\r\n        <div className={`popup__status ${successful ? 'popup__status_success' : 'popup__status_fail'}`}></div>\r\n        <h2 className=\"popup__header popup__header_center\">{successful ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</h2>\r\n      </div>\r\n      <div className=\"popup__overlay\" onClick={onClose}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","export const baseUrl = \"https://auth.nomoreparties.co\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${baseUrl}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${baseUrl}/signin`, {\r\n    method: 'POST', \r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${baseUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup({ isOpen, onClose, isDataLoad, card, onDeleteCard }) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirmDeleteCard\"\r\n      id=\"confirm\"\r\n      title=\"Вы уверены?\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      saveName={isDataLoad ? 'Удаляем...' : 'Да'}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ConfirmDeletePopup;","import React, { useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport api from \"../utils/api\";\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from \"./Login\";\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\n\nfunction App() {\n  const history = useHistory();\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [isCardDelete, setIsCardDelete] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isInfoTooltipShow, setInfoTooltipShow] = useState({ isOpen: false, successful: false });\n  const [profileEmail, setProfileEmail] = useState('')\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [isDataLoad, setIsDataLoad] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ isOpen: false, element: {} });\n  const [selectedCardDelete, setSelectedCardDelete] = useState({ element: {} });\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then(res => { setCurrentUser(res); })\n      .catch(err => { console.log(err); })\n  }, []);\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards);\n      })\n      .catch(err => { console.log(err) });\n  }, []);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.checkToken(jwt)\n        .then(data => {\n          if (data) {\n            setProfileEmail(data.data.email)\n            setLoggedIn(true)\n            history.push('/');\n          }\n        })\n        .catch(err => { console.log(err); })\n    }\n  }, [history]);\n\n  function handleDeleteButtonClick(card) {\n    setIsCardDelete(!isCardDelete);\n    setSelectedCardDelete(card);\n  }\n\n  function handleInfoTooltip(res) {\n    setInfoTooltipShow({ ...isInfoTooltipShow, isOpen: true, successful: res });\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ ...selectedCard, isOpen: true, element: card });\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setIsCardDelete(false);\n    setSelectedCard({ ...selectedCard, isOpen: false });\n    setIsDataLoad(false);\n    setInfoTooltipShow({ isOpen: false, successful: false });\n    setSelectedCardDelete({});\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLike(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(newUserData) {\n    setIsDataLoad(true);\n    api.editProfile(newUserData)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups()\n      })\n      .catch(err => { console.log(err) })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsDataLoad(true);\n    api.editAvatar(newAvatar)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups()\n      })\n      .catch(err => { console.log(err) })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsDataLoad(true);\n    api.sendCard(newCard).then((res) => {\n      setCards([res, ...cards]);\n      closeAllPopups()\n    })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n  function handleCardDelete(card) {\n    setIsDataLoad(true);\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(newCard => newCard._id !== card._id)\n      //* Обновляем стейт\n      setCards(newCards);\n      closeAllPopups()\n    })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => { setIsDataLoad(false) });\n  }\n\n\n  function handleLogin({ email, password }) {\n    auth.login(email, password)\n      .then(res => {\n        if (res.token) {\n          setProfileEmail(email)\n          setLoggedIn(true);\n          localStorage.setItem('jwt', res.token);\n          history.push('/')\n        }\n      })\n      .catch(err => {\n        handleInfoTooltip(false);\n        console.log(err)\n      })\n  }\n\n  function handleRegister({ email, password }) {\n    auth.register(email, password)\n      .then(data => {\n        if (data) {\n          handleInfoTooltip(true);\n          history.push('/sign-in');\n        }\n      })\n      .catch(err => {\n        handleInfoTooltip(false);\n        console.log(err);\n      })\n  }\n\n  const handleSignOut = () => {\n    localStorage.removeItem('jwt');\n    setProfileEmail('')\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header email={profileEmail} onSignOut={handleSignOut} />\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleDeleteButtonClick}\n            onCardLike={handleCardLike}\n            cards={cards}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n          <Footer />\n        </Switch>\n\n        <InfoTooltip onClose={closeAllPopups} status={isInfoTooltipShow} />\n        <EditProfilePopup isDataLoad={isDataLoad} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup isDataLoad={isDataLoad} onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup isDataLoad={isDataLoad} onAddCard={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <ConfirmDeletePopup card={selectedCardDelete} isDataLoad={isDataLoad} onDeleteCard={handleCardDelete} isOpen={isCardDelete} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}